<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ЧЕМОДАН4ИК - Главная</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/error-styles.css"> <!-- НОВЫЙ ФАЙЛ СТИЛЕЙ ОШИБОК -->
    <script type="module" src="js/main.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&display=swap"
        rel="stylesheet">
    
    <!-- Глобальный обработчик ошибок -->
    <script>
        // Базовый обработчик для отслеживания критических ошибок загрузки
        window.addEventListener('error', function(e) {
            // Отслеживаем ошибки загрузки ресурсов
            if (e.target.tagName === 'SCRIPT' || e.target.tagName === 'LINK') {
                console.error('Ошибка загрузки ресурса:', e.target.src || e.target.href);
                
                // Создаем уведомление об ошибке
                if (!document.querySelector('.resource-error-notification')) {
                    const errorDiv = document.createElement('div');
                    errorDiv.className = 'resource-error-notification error-message fixed';
                    errorDiv.innerHTML = `
                        <div class="error-title">Предупреждение о загрузке</div>
                        <p>Некоторые ресурсы не загрузились. Возможны проблемы с отображением.</p>
                        <div class="error-actions">
                            <button onclick="this.parentElement.parentElement.style.display='none'" 
                                    class="error-button secondary">
                                Понятно
                            </button>
                            <button onclick="location.reload()" 
                                    class="error-button primary">
                                Обновить страницу
                            </button>
                        </div>
                    `;
                    document.body.appendChild(errorDiv);
                    
                    // Автоматически скрыть через 15 секунд
                    setTimeout(() => {
                        if (errorDiv.parentNode) {
                            errorDiv.style.display = 'none';
                        }
                    }, 15000);
                }
            }
        }, true);
        
        // Обработчик для ошибок в промисах
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Необработанная ошибка в Promise:', e.reason);
        });
    </script>
</head>

<div id="modal-root"></div>
<body>
    <div class="header">
        <div class="header_container">
            <a href="index.html" class="logo-link">
                <h1>ЧЕМОДАН4ИК</h1>
            </a>
            <img src="images/suitcase_icon.png" alt="Иконка чемоданчика" class="icon" style="width:30px;height:65px">
        </div>
        <div class="header_container">
            <div class="nav-links">
                <a href="order-history.html" class="nav-link">История заказов</a>
                <a href="profile-settings.html" class="nav-link">Настройки</a>
            </div>
            <span id="name">Адолат Бердиева</span>
            <img src="images/profile_icon.png" alt="Иконка профиля" class="icon" style="margin-right:35px;width:30px;height:30px">
        </div>
    </div>
    <div class="back">
        <div class="header_container">
            <img src="images/back_arrow.png" alt="Иконка стрелочки назад" class="icon" style="width:30px;height:30px">
            <span id="name" style="font-size:25">Детали заказа</span>
        </div>
    </div>
    <div class="page">
        <div class="container">
            <img src="images/kpss.jpg" alt="Картинка места" class="place_image" 
                onerror="this.onerror=null; this.src='images/placeholder.jpg'; this.alt='Изображение не загружено';">
        </div>
        <p class="big_letters">кафе "КПСС"</p>
        <p class="medium_letters">пр. Славы 50, г. Сыктывкар</p>
        <div>
            <button id="chatBtn">
                <p class="medium_letters">Перейти в чат</p>
            </button>

            <button id="reviewBtn">
                <p class="medium_letters">Оставить отзыв</p>
            </button>
        </div>
        <div style="display:inline-flex; width:100%">
            <div class="box" style="width:100%;margin-right: 4%; display: flex; justify-content: flex-start;flex-direction: column;">
                <div class="date">
                    <p class="medium_large_letters" style="margin-top:5px;margin-bottom:5px;margin-left:8px;margin-right:8px;">01.03.2025</p>
                </div>
                <div style="display:inline-flex;align-items: center; justify-content: space-between; width:100%; margin-top: 20px;margin-bottom: 5px;">
                    <p class="small_letters" style="color:#D2649A">принести</p>
                    <p class="small_letters" style="color:#D2649A">забрать</p>
                </div>
                <div style="display: inline-flex; align-items: center; justify-content: space-between;width:100%; margin-bottom: 20px;">
                    <p class="medium_large_letters" style="color:black">16:00</p>
                    <div class="line"></div>
                    <p class="medium_large_letters" style="color:#743050">4 часа</p>
                    <div class="line"></div>
                    <p class="medium_large_letters" style="color:black">20:00</p>
                </div>
                <p class="medium_large_letters" style="color:#743050">3 чемодана до 25 кг</p>
            </div>
            <div class="box" style="width:40%;">
                <p class="medium_large_letters" style="margin-bottom:5px">Стоимость</p>
                <p class="medium_large_letters" style="color:#743050;margin-bottom:5px">1220 рублей</p>
                <div class="paid" style="margin-top: 50px; width: 95%;">
                    <p class="medium_large_letters" style="color:white; padding: 6px 30px;box-sizing: border-box;">Оплачено</p>
                </div>
            </div>
        </div>
        <p class="large_letters"> Детали оплаты</p>
        <div class="box full-box">
            <div class="box-content">
                <div class="info-columns">
                    <div class="info-column">
                        <p class="medium_large_letters">Стоимость</p>
                        <p class="medium_large_letters">Статус оплаты</p>
                        <p class="medium_large_letters">Способ оплаты</p>
                        <p class="medium_large_letters">Банк транзакции</p>
                        <p class="medium_large_letters">Реквизиты</p>
                    </div>

                    <div class="info-column">
                        <p class="medium_large_letters" style="color:#743050">1220 рублей</p>
                        <div class="paid" style="width:fit-content; padding: 5px 5px">
                            <p class="medium_large_letters" style="color:white">Оплачено</p>
                        </div>
                        <p class="medium_large_letters" style="color:#743050">Карта</p>
                        <p class="medium_large_letters" style="color:#743050">Альфа Банк</p>
                        <p class="medium_large_letters" style="color:#743050">200*************72</p>
                    </div>
                </div>

                <button id="receiptBtn" class="medium_letters">Посмотреть чек</button>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-left">
            <p>По всем претензиям обращаться<br>
            к Л.Бенидовской, А.Коротченко<br>
            и В.Совгирь, но лучше не надо :)</p>
        </div>

        <div class="footer-center">
            <img src="images/heart_icon.png" alt="Сердечко" class="footer-icon"
                onerror="this.onerror=null; this.style.display='none';">
        </div>

        <div class="footer-right">
            <p>Контакты<br>
            Почта: avkorotchenko@edu.hse.ru<br>
            Телефон: +71234567890</p>
        </div>
    </div>
</body>

</html>